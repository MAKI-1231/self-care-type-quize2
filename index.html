<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>あなたのごきげんセルフケア診断｜全27タイプ</title>
  <style>
    body {
      background-color: #FFFDE7;
      font-family: "Rounded Mplus 1c", "Hiragino Maru Gothic ProN", "YuGothic", sans-serif;
      padding: 20px;
      line-height: 1.8;
      text-align: center;
    }
    h1 {
      font-size: 1.8em;
      color: #444;
    }
    .question {
      margin-top: 40px;
      font-size: 1.2em;
    }
    .button {
      padding: 10px 30px;
      border: none;
      border-radius: 10px;
      font-size: 1em;
      margin: 10px;
      cursor: pointer;
    }
    .yes {
      background-color: #FFCC80;
    }
    .no {
      background-color: #AED581;
    }
    #result {
      margin-top: 40px;
      font-size: 1.4em;
      font-weight: bold;
    }
    footer {
      margin-top: 60px;
      font-size: 0.8em;
      color: #666;
      text-align: center;
      line-height: 2;
    }
  </style>
</head>
<body>
  <h1>あなたのごきげんセルフケア診断｜全27タイプ</h1>
  <p><strong>「なんだか疲れがとれないな…」そんなあなたに。</strong><br>
  自分にぴったりのセルフケアが見つかる48問の診断です。</p>

  <div id="quiz">
    <div class="question" id="question"></div>
    <button class="button yes" onclick="answer('yes')">YES</button>
    <button class="button no" onclick="answer('no')">NO</button>
  </div>
  <div id="result"></div>

  <footer>
    <p>セルフケアコーチまき</p>
    <p>&copy; 2025 Maki / All rights reserved.<br>
    本サイトは CC BY-NC-ND 4.0 ライセンスで提供されています。<br>
    無断転載・商用利用・改変を禁じます。</p>
  </footer>

<script>
const questions = [
  // Enneagram Type 1
  "決めたことはきちんとやり遂げたいと思う",
  "人から真面目だと言われることが多い",
  "理想と現実のギャップにモヤモヤする",
  "正義感が強くて納得できないことに怒りを感じる",
  // Type 2
  "誰かの役に立てると嬉しい",
  "つい人を優先してしまう",
  "頼られると張り切ってしまう",
  "感謝されるとやりがいを感じる",
  // Type 3
  "効率や成果を意識するタイプだ",
  "褒められるとモチベーションが上がる",
  "目標があると頑張れる",
  "忙しくしている方が落ち着く",
  // Type 4
  "感受性が豊かだとよく言われる",
  "人と違う自分らしさを大切にしたい",
  "気分にムラがあると感じる",
  "自分の内面を見つめる時間が必要だ",
  // Type 5
  "一人の時間がないと疲れる",
  "情報を集めて分析するのが好きだ",
  "あまり感情を表に出さない",
  "静かな環境の方が落ち着く",
  // Type 6
  "慎重にリスクを考えて行動する方だ",
  "信頼できる人に相談することが多い",
  "急な変化が苦手だ",
  "不安を感じやすい",
  // Type 7
  "楽しいことを考えると元気が出る",
  "新しいことにチャレンジするのが好きだ",
  "じっとしているのが苦手だ",
  "ワクワクする予定があると頑張れる",
  // Type 8
  "エネルギッシュだと言われる",
  "はっきりものを言うタイプだ",
  "リーダーシップを取ることが多い",
  "弱みを見せるのが苦手だ",
  // Type 9
  "平和に過ごしたいと願っている",
  "人の意見に合わせがちだ",
  "衝突を避けたいと思う",
  "のんびり過ごすのが好きだ",
  // V: Visual
  "美しいものを見て癒される",
  "空や光などの景色に心が整う",
  "ToDoやスケジュールを見える化すると安心する",
  "色彩や明るさに敏感だ",
  // A: Auditory
  "音楽を聴くと気分が変わる",
  "やさしい声や語り口に安心する",
  "自分にかける言葉でやる気が変わる",
  "静かな場所にいると落ち着く",
  // K: Kinesthetic
  "ぬくもりや触感で安心する",
  "深呼吸すると気持ちが整う",
  "ストレッチや運動で気分転換している",
  "香りや肌ざわりが気になる"
];

let currentIndex = 0;
let answers = [];
questions.sort(() => Math.random() - 0.5);
const questionDiv = document.getElementById("question");
const resultDiv = document.getElementById("result");

function showQuestion() {
  if (currentIndex < questions.length) {
    questionDiv.textContent = (currentIndex + 1) + ". " + questions[currentIndex];
  } else {
    document.querySelector(".yes").style.display = "none";
    document.querySelector(".no").style.display = "none";
    questionDiv.style.display = "none";
    calculateResult();
  }
}

function answer(choice) {
  answers.push({ index: currentIndex, value: choice });
  currentIndex++;
  showQuestion();
}

function calculateResult() {
  const enneagramScores = Array(9).fill(0);
  const vakScores = [0, 0, 0];
  for (const ans of answers) {
    if (ans.value === 'yes') {
      if (ans.index < 36) {
        const type = Math.floor(ans.index / 4);
        enneagramScores[type]++;
      } else {
        const vakType = Math.floor((ans.index - 36) / 4);
        vakScores[vakType]++;
      }
    }
  }
  const enneagramMax = enneagramScores.indexOf(Math.max(...enneagramScores));
  const vakMax = vakScores.indexOf(Math.max(...vakScores));

  const vakNames = [
    "🟩 Visual（視覚タイプ）：目で癒される人",
    "🟦 Auditory（聴覚タイプ）：音で癒される人",
    "🟨 Kinesthetic（身体感覚タイプ）：体で癒される人"
  ];

  const resultMap = [
    ["整った空間で安心する人", "静かな音で整う人", "体を整えると心も整う人"],
    ["美しいものに心がときめく人", "やさしい声に安心する人", "ぬくもりにふれると安心する人"],
    ["目標を見える化すると落ち着く人", "応援の言葉でやる気が出る人", "動くことでモヤモヤが消える人"],
    ["色や光で気分が整う人", "お気に入りの音楽で気分が変わる人", "肌ざわりや香りで心が落ち着く人"],
    ["静かな景色で思考が深まる人", "言葉で整理されると落ち着く人", "深呼吸で頭がクリアになる人"],
    ["見通しがあると安心する人", "声かけで不安がほぐれる人", "ルーティンで安心できる人"],
    ["カラフルな世界で気分が上がる人", "リズムに乗ると元気になる人", "体験を通して元気になる人"],
    ["未来を描くことで落ち着く人", "はっきり伝えることでスッキリする人", "パワフルに動くとリセットできる人"],
    ["やさしい風景に心がほぐれる人", "やわらかな音に癒される人", "ゆっくり触れるとリラックスできる人"]
  ];

  const finalType = resultMap[enneagramMax][vakMax];
  const vakTitle = vakNames[vakMax];
  resultDiv.innerHTML = `あなたのタイプは...<br><br><strong>${vakTitle}<br>${finalType}</strong>`;
}

showQuestion();
</script>
</body>
</html>
